if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}const n=(e,t)=>{const n=e.__vccOpts||e;for(const[a,r]of t)n[a]=r;return n};var a="";uni.getStorage({key:"HTTPURL",success:function(e){a=e.data},fail:function(e){}});__definePage("pages/index/index",n({data:()=>({timer:null,url:a}),computed:{startImage:()=>"/static/play.png",stopImage:()=>"/static/stop.png"},methods:{formSubmit:function(e){t("log","at pages/index/index.vue:70","form发生了submit事件，携带数据为："+JSON.stringify(e.detail.value)),uni.setStorage({key:"HTTPURL",data:e.detail.value.input}),uni.showToast({title:"配置成功",duration:500}),this.startTask()},formReset:function(e){t("log","at pages/index/index.vue:82","清空数据")},startTask(){uni.showToast({title:"任务启动",duration:1e3}),this.timer=setInterval((()=>{this.getChart()}),3e4)},stopTask(){uni.showToast({title:"任务停止",duration:1e3}),clearInterval(this.timer)},getChart(){uni.getStorage({key:"HTTPURL",success:function(e){a=e.data},fail:function(){}}),""!=a&&uni.request({url:a,dataType:"text"}).then((e=>{if(t("log","at pages/index/index.vue:135","request success",e),"bad"===e.data){uni.vibrateShort({}),uni.vibrateLong({});const e=uni.getBackgroundAudioManager();e.src="https://bjetxgzv.cdn.bspapp.com/VKCEYUGU-hello-uniapp/2cc220e0-c27a-11ea-9dfb-6da8e309e0d8.mp3",e.play(),uni.vibrateShort({}),uni.vibrateLong({})}})).catch((e=>{t("log","at pages/index/index.vue:151",e),uni.showModal({content:e.errMsg,showCancel:!1})}))}}},[["render",function(t,n,a,r,i,o){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",null,[e.createElementVNode("view",{class:"play-button-area"},[e.createElementVNode("image",{class:"icon-play",src:o.startImage,onClick:n[0]||(n[0]=(...e)=>o.startTask&&o.startTask(...e))},null,8,["src"])]),e.createElementVNode("view",{class:"play-button-area"},[e.createElementVNode("image",{class:"icon-play",src:o.stopImage,onClick:n[1]||(n[1]=(...e)=>o.stopTask&&o.stopTask(...e))},null,8,["src"])]),e.createElementVNode("form",{onSubmit:n[3]||(n[3]=(...e)=>o.formSubmit&&o.formSubmit(...e)),onReset:n[4]||(n[4]=(...e)=>o.formReset&&o.formReset(...e))},[e.createElementVNode("view",{class:"uni-form-item uni-column"},[e.createElementVNode("view",{class:"title"},"服务器地址:端口:/id=自定义字符串"),e.withDirectives(e.createElementVNode("input",{class:"uni-input",name:"input","onUpdate:modelValue":n[2]||(n[2]=e=>i.url=e),placeholder:"{{url}}"},null,512),[[e.vModelText,i.url]])]),e.createElementVNode("view",{class:"uni-btn-v"},[e.createElementVNode("view"),e.createElementVNode("button",{type:"primary",style:{margin:"30px"},"form-type":"submit"},"Submit")])],32)])])}],["__scopeId","data-v-0e3002f9"]]));const r={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:i,Vuex:o,Pinia:s}={app:e.createVueApp(r)};uni.Vuex=o,uni.Pinia=s,i.provide("__globalStyles",__uniConfig.styles),i._component.mpType="app",i._component.render=()=>{},i.mount("#app")}(Vue);
